<!DOCTYPE html>
<html>

<head>
	<title>
	How to contribute to SOFAJRaft · SOFAStack
</title>
	<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="SOFAStack is a Scalable Open Financial Architecture for building cloud native applications" />

<meta name="generator" content="Hugo 0.55.5" /><link rel="shortcut icon" href=https://gw.alipayobjects.com/os/q/cms/images/jqu9346l/4ba95631-2489-4885-881f-bc7f8d787d5e_w64_h61.png type="image/png">

<link href="https://unpkg.com/purecss@1.0.0/build/base-min.css" rel="stylesheet">



<link href="/sofastack.tech/css/main.css" rel="stylesheet">
<link href="/sofastack.tech/css/zoom-image.css" rel="stylesheet">

<script src="/sofastack.tech/js/iconfont.js"></script>
<script src="/sofastack.tech/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>window.SITE_LANGUAGE = "en"</script>
<script src="/sofastack.tech/js/app.js"></script>





<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-142131411-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>

<body>
	<header class="ss-header">
	<nav class="navbar" role="navigation" aria-label="main navigation">
		<div class="navbar-brand">
			<a class="logo-link" href="/sofastack.tech/en/">
				<img class="logo" src="/sofastack.tech/img/logo.png">
			</a>
			<div class="-show-mobile">
				<a id="mobile-menu-icon">
					<svg class="icon" aria-hidden="true">
						<use xlink:href="#icon-menu"></use>
					</svg>
				</a>
				<nav id="mobile-menu">
						<div id="js-menu-search-mobile" class="navbar-search-mobile">
							<input class="input" placeholder="Search">
							<svg class="icon" aria-hidden="true">
								<use xlink:href="#icon-search"></use>
							</svg>
						</div>
					
          
            <a
              class=""
              href="/sofastack.tech/en/projects/">
              <span>
                Projects
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
            <a
              class=""
              href="/sofastack.tech/en/guides/">
              <span>
                Guides
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
            <a
              class=""
              href="/sofastack.tech/en/blog/">
              <span>
                Blog
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
            <a
              class=""
              href="/sofastack.tech/en/activities/">
              <span>
                Activity
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
            <a
              class=""
              href="/sofastack.tech/awesome/">
              <span>
                Awesome SOFA
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
					
            
              <a href="/sofastack.tech/projects/sofa-jraft/how-to-contribute-code-to-sofajraft/">
                <span>中文</span>
                <svg class="icon" aria-hidden="true"><use xlink:href="#icon-transfer"></use></svg>
              </a>
						
					
				</nav>
			</div>
		</div>

		<div class="navbar-menu -hidden-mobile">
			<div class="navbar-start">
				
				
					<a class="navbar-item "
						href="/sofastack.tech/en/projects/">Projects</a>
				
					<a class="navbar-item "
						href="/sofastack.tech/en/guides/">Guides</a>
				
					<a class="navbar-item "
						href="/sofastack.tech/en/blog/">Blog</a>
				
					<a class="navbar-item "
						href="/sofastack.tech/en/activities/">Activity</a>
				
					<a class="navbar-item "
						href="/sofastack.tech/awesome/">Awesome SOFA</a>
				
			</div>
			<div class="navbar-end">
				<div class="navbar-item">
					<div id="js-menu-search" class="navbar-search">
						<input class="input" placeholder="Search">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-search"></use>
						</svg>
					</div>
				</div>
				<div class="navbar-item">
					
						
							<a class="translation" href="/sofastack.tech/projects/sofa-jraft/how-to-contribute-code-to-sofajraft/">中</a>
						
					
				</div>
			</div>
		</div>
	</nav>
</header>


	

	

	

	

	



	

<div class="ss-layout-container">
	<aside class="ss-layout-aside -left ss-card -soft-hidden">
		






	<div id="js-drawer" class="ss-toc">
		<div id="js-drawer-handle" class="drawer-handle">
			<svg class="icon icon-menu" aria-hidden="true">
				<use xlink:href="#icon-menu"></use>
			</svg>
			<svg class="icon icon-close" aria-hidden="true">
				<use xlink:href="#icon-close"></use>
			</svg>
		</div>
		<div class="drawer-body">
			<div class="header" title="SOFAJRaft is a production-level high-performance Java implementation based on the RAFT consensus algorithm. It supports MULTI-RAFT-GROUP and is suitable for high-load and low-latency scenarios. ">SOFAJRaft

































































































































































































































































































































































































































































































<div class="ss-toc-list-card -hidden-mobile">
	<svg class="icon -hidden-mobile" aria-hidden="true">
		<use xlink:href="#icon-menu1"></use>
	</svg>
	<div class="ss-tooltip">
		
		
		<div class="toc-list">
			<h4 class="title">Main Projects</h4>
			<ul class="list">
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-boot/overview/>
						SOFABoot
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-rpc/overview/>
						SOFARPC
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-tracer/overview/>
						SOFATracer
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-lookout/overview/>
						SOFALookout
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-registry/overview/>
						SOFARegistry
					</a>
				</li>
				
			</ul>
		</div>
		
		
		
		<div class="toc-list">
			<h4 class="title">Incubating Projects</h4>
			<ul class="list">
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-mesh/overview/>
						SOFAMesh
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-dashboard/overview/>
						SOFADashboard
					</a>
				</li>
				
			</ul>
		</div>
		
		
		
		<div class="toc-list">
			<h4 class="title">Tool Projects</h4>
			<ul class="list">
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-bolt/overview/>
						SOFABolt
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-jraft/overview/>
						SOFAJRaft
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					<a href=/sofastack.tech/en/projects/sofa-acts/overview/>
						SOFAActs
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					
					
					<a href=https://www.sofastack.tech/en/projects/sofa-boot/sofa-ark-readme//>
						SOFAArk
					</a>
				</li>
				
			</ul>
		</div>
		
		
		
		<div class="toc-list">
			<h4 class="title">Ecosystem Projects</h4>
			<ul class="list">
				
				<li class="item">
					
					
					
					
					
					
					<a href=https://mosn.io/en/>
						MOSN
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					
					
					<a href=https://occlum.io/>
						Occlum
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					
					
					<a href=https://seata.io/>
						Seata
					</a>
				</li>
				
				<li class="item">
					
					
					
					
					
					
					<a href=https://mosn.io/layotto/>
						Layotto
					</a>
				</li>
				
			</ul>
		</div>
		
		
	</div>
</div>

			</div>
			<div class="body">
				



<ul class="leaf-section">
	
		
			<li class="item">
				<div class="link">
					<a
						title="SOFAJRaft overview"
						href="/sofastack.tech/en/projects/sofa-jraft/overview/"
					>SOFAJRaft overview</a>
				</div>
			</li>
		
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="Engine architecture"
						href="/sofastack.tech/en/projects/sofa-jraft/engine-architecture/"
					>Engine architecture</a>
				</div>
			</li>
		
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="Jepsen tests"
						href="/sofastack.tech/en/projects/sofa-jraft/jepson-test/"
					>Jepsen tests</a>
				</div>
			</li>
		
		
	
		
		
			<li class="item">
				<div class="link">
					<svg class="icon arrow" aria-hidden="true">
						<use xlink:href="#icon-arrow"></use>
					</svg>
					<a
						title="User guide"
					>User guide</a>
				</div>
				



<ul class="leaf-section">
	
		
			<li class="item">
				<div class="link">
					<a
						title="JRaft user guide"
						href="/sofastack.tech/en/projects/sofa-jraft/jraft-user-guide/"
					>JRaft user guide</a>
				</div>
			</li>
		
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="JRaft RheaKV user guide"
						href="/sofastack.tech/en/projects/sofa-jraft/jraft-rheakv-user-guide/"
					>JRaft RheaKV user guide</a>
				</div>
			</li>
		
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="Counter example"
						href="/sofastack.tech/en/projects/sofa-jraft/counter-example/"
					>Counter example</a>
				</div>
			</li>
		
		
	
</ul>
			</li>
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="Maven dependency description&#39;"
						href="/sofastack.tech/en/projects/sofa-jraft/maven-dependency/"
					>Maven dependency description&#39;</a>
				</div>
			</li>
		
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="Release notes"
						href="/sofastack.tech/en/projects/sofa-jraft/release-log/"
					>Release notes</a>
				</div>
			</li>
		
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="Benchmark data"
						href="/sofastack.tech/en/projects/sofa-jraft/benchmark-performance/"
					>Benchmark data</a>
				</div>
			</li>
		
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="User stories"
						href="/sofastack.tech/en/projects/sofa-jraft/user-stories/"
					>User stories</a>
				</div>
			</li>
		
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="Roadmap"
						href="/sofastack.tech/en/projects/sofa-jraft/road-map/"
					>Roadmap</a>
				</div>
			</li>
		
		
	
		
		
			<li class="item">
				<div class="link">
					<svg class="icon arrow" aria-hidden="true">
						<use xlink:href="#icon-arrow"></use>
					</svg>
					<a
						title="Related articles"
					>Related articles</a>
				</div>
				



<ul class="leaf-section">
	
		
			<li class="item">
				<div class="link">
					<a
						title="Introduction to Raft algorithms"
						href="/sofastack.tech/en/projects/sofa-jraft/raft-introduction/"
					>Introduction to Raft algorithms</a>
				</div>
			</li>
		
		
	
		
			<li class="item">
				<div class="link">
					<a
						title="Distributed consensus - Raft and JRaft"
						href="/sofastack.tech/en/projects/sofa-jraft/consistency-raft-jraft/"
					>Distributed consensus - Raft and JRaft</a>
				</div>
			</li>
		
		
	
</ul>
			</li>
		
	
		
		
			<li class="item">
				<div class="link">
					<svg class="icon arrow" aria-hidden="true">
						<use xlink:href="#icon-arrow"></use>
					</svg>
					<a
						title="Other"
					>Other</a>
				</div>
				



<ul class="leaf-section">
	
		
			<li class="item">
				<div class="link -current">
					<a
						title="How to contribute to SOFAJRaft"
						href="/sofastack.tech/en/projects/sofa-jraft/how-to-contribute-code-to-sofajraft/"
					>How to contribute to SOFAJRaft</a>
				</div>
			</li>
		
		
	
</ul>
			</li>
		
	
</ul>
			</div>
		</div>
	</div>

	</aside>

	<main class="ss-layout-main -card">
		




<div class="ss-meta">
	<div class="container">
		<h1 class="title">
			How to contribute to SOFAJRaft
		</h1>
		<a class="edit-button -hidden-mobile"
			href="https://github.com/sofastack/sofastack.tech/edit/master/content/en/projects/sofa-jraft/how-to-contribute-code-to-sofajraft/index.md"
		>Edit</a>
	</div>
	<div class="meta">
		Update time: 2024-06-18 
		
			
		
	</div>
</div>

		<article class="typo">
  <h2 id="prerequisites">Prerequisites</h2>

<p>Before contributing any code, you need to know how to use the Git tools and the GitHub website.</p>

<ul>
<li>For the use of Git tools, refer to the <a href="https://git-scm.com/book/zh/v1">official Pro Git book</a> and get familiar with it by reading the first few chapters.</li>
<li>For the Git collaboration process, refer to <a href="http://www.ruanyifeng.com/blog/2015/12/git-workflow.html">Git Workflows.</a></li>
</ul>

<h2 id="github-code-contribution-process">GitHub Code Contribution Process</h2>

<h3 id="submit-an-issue">Submit an issue</h3>

<p>Regardless of whether you are fixing a SOFAJRaft bug or adding a SOFAJRaft feature, submit an issue on the SOFAJRaft GitHub to describe the bug you are going to fix or the feature you intend to add before you submit the code. There are several advantages of doing so:</p>

<ul>
<li>There will not be any conflict with other developers or their plans for this project. This avoids repetitive work.</li>
<li>The SOFAJRaft maintenance personnel will discuss the issue or new feature you submitted to determine whether the modification is necessary, or if there is any room for improvement or a better solution.</li>
<li>Start code development and submit the code after an agreement is reached. This reduces the cost of communication between both parties and the number of rejected pull requests.</li>
</ul>

<h3 id="get-the-source-code">Get the source code</h3>

<p>To modify or add a feature after submitting an issue, click the <code>fork</code> button in the upper left corner to copy the master branch code to your code repository.</p>

<h3 id="pull-a-branch">Pull a branch</h3>

<p>We recommend that you first read the SOFAJRaft <a href="https://github.com/alipay/sofa-jraft/wiki/Github-%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5">Branch management policy.</a></p>

<p>All SOFAJRaft modifications are performed on branches. After the modification, submit a pull request. The modifications will then be merged into the master branch by the project maintenance personnel after the code review.
Therefore, after getting familiar with how to get the source code, you need to:</p>

<ul>
<li>Download the code locally. You may select the git/https mode in this step.</li>
</ul>

<pre><code class="language-text">   git clone https://github.com/your account name/sofa-jraft
</code></pre>

<ul>
<li>Pull a branch to prepare for code modification.</li>
</ul>

<pre><code class="language-text">   git branch add_xxx_feature
</code></pre>

<ul>
<li>After the preceding command is executed, your code repository is switched to the corresponding branch. To view the current branch, execute the following command:</li>
</ul>

<pre><code class="language-text">   git branch -a
</code></pre>

<ul>
<li>If you want to switch back to the master branch, execute the following command:</li>
</ul>

<pre><code class="language-text">   git checkout -b master
</code></pre>

<ul>
<li>If you want to switch back to the branch, execute the following command:</li>
</ul>

<pre><code class="language-text">   git checkout -b &quot;branchName&quot;
</code></pre>

<h3 id="modify-the-code-and-submit-it-locally">Modify the code and submit it locally</h3>

<p>After a branch is pulled, you can modify the code.</p>

<h4 id="when-modifying-the-code-note-the-following">When modifying the code, note the following:</h4>

<ul>
<li>Keep the code style consistent.
SOFAJRaft uses the Maven plug-in to keep the code style consistent. Before submitting the code, be sure to execute the following command locally.</li>
</ul>

<pre><code class="language-text">   mvn clean compile
</code></pre>

<ul>
<li><p>Add the unit test code.</p></li>

<li><p>New modifications should have passed existing unit tests.</p></li>

<li><p>Provide a new unit test to prove that the previous code has bugs and the bugs have been fixed in the new code.
Execute the following command to run all tests:</p></li>
</ul>

<pre><code class="language-text">   mvn clean test
</code></pre>

<p>You can also use the IDE to help execute a command.</p>

<h4 id="other-do-s-and-don-ts">Other do&rsquo;s and don&rsquo;ts</h4>

<ul>
<li>Retain the original style of the code you are editing, especially the usage of spaces and line feeds in the code.</li>
<li>Delete unnecessary comments.</li>
<li>Add comments where the logic and functionality are difficult to understand.</li>
<li>Update documents in a timely manner.</li>
</ul>

<p>After the code is modified, execute the following command to submit all modifications to the local repository:</p>

<pre><code class="language-text">git commit -am '(feat) 'Add xx feature'
git commit -am '(fix) 'Fix xx feature'
</code></pre>

<h4 id="submit-the-code-to-a-remote-repository">Submit the code to a remote repository</h4>

<p>After being submitted to the local repository, the code is synchronized to a remote repository. Execute the following command to submit the local modification to GitHub:</p>

<pre><code class="language-text">git push origin &quot;branchname&quot;
</code></pre>

<p>If you clicked the &lsquo;fork&rsquo; button to get the source code, the modified code is pushed to your code repository rather than the SOFAJRaft repository.</p>

<h4 id="submit-a-request-for-merging-the-code-into-the-master-branch">Submit a request for merging the code into the master branch</h4>

<p>After submitting the code to GitHub, you can send a request to merge your modified code into SOFAJRaft&rsquo;s master branch code. To do so, you need to enter the corresponding repository on your GitHub and click the <code>Pull Request</code> button in the upper right corner. Select the target branch (usually master), and the system will notify the SOFAJRaft maintenance personnel, who will review your code and merge it into SOFAJRaft&rsquo;s master branch code if it meets the requirements.</p>

<h4 id="code-review">Code review</h4>

<p>After you submit the code, it will be assigned to maintenance personnel for review. Wait patiently for the review result. If you have not received a reply after several days, leave a message under the PR, and put an at (@) sign before the name of the responsible person.</p>

<p>The person will leave a comment containing the code review suggestions on the corresponding PR or issue. If you find the suggestions reasonable, update your patch based on the comments.</p>

<h4 id="merge-the-code-into-the-master-branch">Merge the code into the master branch</h4>

<p>After your code passes the review, the SOFAJRaft maintenance personnel will merge it into the master branch. You do not need to get involved in this step. After the code is merged, you will receive a message indicating a successful merge.</p>

</article>

<script>
  const article = document.querySelector('article.typo')
  
  const imgElements = article.querySelectorAll('img');
  
  imgElements.forEach(img => {
    const src = img.getAttribute('src');
    
    if (src.toLowerCase().endsWith('.image')) {
      img.setAttribute('src', src.replace('.image', ''));
    }
    img.setAttribute('referrerpolicy', 'no-referrer');
  });
</script>


	</main>
</div>



	


<footer class="ss-footer">
	<div class="container">
		<div class="links">
			
				<div class="cate">
					<h2 class="cate-title">Resources</h2>
					
						<a class="link" href="https://github.com/sofastack">Github</a>
					
						<a class="link" href="https://gitee.com/sofastack/">Gitee</a>
					
						<a class="link" href="https://github.com/sofastack-guides">Samples</a>
					
				</div>
			
				<div class="cate">
					<h2 class="cate-title">Social Media</h2>
					
						<a class="link" href="https://zhuanlan.zhihu.com/sofastack">Zhihu</a>
					
						<a class="link" href="https://weibo.com/sofastack">Weibo</a>
					
						<a class="link" href="https://twitter.com/sofastack_io">Twitter</a>
					
				</div>
			
				<div class="cate">
					<h2 class="cate-title">Get Involved</h2>
					
						<a class="link" href="https://github.com/sofastack/sofastack.tech/issues">Feedback</a>
					
						<a class="link" href="https://github.com/sofastack/community">Community</a>
					
						<a class="link" href="https://github.com/sofastack/sofastack.tech/wiki">Wiki</a>
					
						<a class="link" href="mailto:sofa@alipay.cloud.com">Email</a>
					
				</div>
			
				<div class="cate">
					<h2 class="cate-title">Ant Financial Open Source</h2>
					
						<a class="link" href="https://ant.design/">Ant Design</a>
					
						<a class="link" href="https://eggjs.org/">Egg</a>
					
						<a class="link" href="https://sqlflow.org">SQLFlow</a>
					
						<a class="link" href="https://tech.antfin.com/open-source">More</a>
					
				</div>
			
		</div>
		<div class="qrcode">
			
				<div>
					<img class="qrcode-img" src="/sofastack.tech/img/qrcode/qrcode_1.png" />
					<p class="qrcode-desc">Wechat Official Account</p>
				</div>
			
				<div>
					<img class="qrcode-img" src="/sofastack.tech/img/qrcode/qrcode_2.png" />
					<p class="qrcode-desc">DingTalk Group</p>
				</div>
			
		</div>
	</div>
	<div class="copyright">
		<p>
			© 2018 - 2022  The SOFAStack Authors
			<a href="http://beian.miit.gov.cn/">浙 ICP 备 16045294 号-3</a>
		</p>
	</div>
</footer>

</body>

</html>