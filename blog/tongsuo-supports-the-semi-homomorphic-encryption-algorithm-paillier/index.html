<!DOCTYPE html>
<html>

<head>
	<title>
	Tongsuo 支持半同态加密算法 Paillier · SOFAStack
</title>
	<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="SOFAStack is a Scalable Open Financial Architecture for building cloud native applications" />

<meta name="generator" content="Hugo 0.55.5" /><link rel="shortcut icon" href=https://img.alicdn.com/imgextra/i3/O1CN019CRHyf1qyMghfS3id_!!6000000005564-2-tps-211-128.png type="image/png">

<link href="https://unpkg.com/purecss@1.0.0/build/base-min.css" rel="stylesheet">



<link href="/sofastack.tech/css/main.css" rel="stylesheet">
<link href="/sofastack.tech/css/zoom-image.css" rel="stylesheet">

<script src="/sofastack.tech/js/iconfont.js"></script>
<script src="/sofastack.tech/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>window.SITE_LANGUAGE = "zh"</script>
<script src="/sofastack.tech/js/app.js"></script>





<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-142131411-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>

<body>
	<header class="ss-header">
	<nav class="navbar" role="navigation" aria-label="main navigation">
		<div class="navbar-brand">
			<a class="logo-link" href="/sofastack.tech/">
				<img class="logo" src="/sofastack.tech/img/logo-2024.png">
			</a>
			<div class="-show-mobile">
				<a id="mobile-menu-icon">
					<svg class="icon" aria-hidden="true">
						<use xlink:href="#icon-menu"></use>
					</svg>
				</a>
				<nav id="mobile-menu">
						<div id="js-menu-search-mobile" class="navbar-search-mobile">
							<input class="input" placeholder="请输入要搜索的关键词">
							<svg class="icon" aria-hidden="true">
								<use xlink:href="#icon-search"></use>
							</svg>
						</div>
					
          
            <a
              class=""
              href="/sofastack.tech/projects/">
              <span>
                项目
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
            <a
              class=""
              href="/sofastack.tech/guides/">
              <span>
                指南
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
            <a
              class=""
              href="/sofastack.tech/blog/">
              <span>
                博客
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
            <a
              class=""
              href="/sofastack.tech/activities/">
              <span>
                活动
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
            <a
              class=""
              href="/sofastack.tech/community/">
              <span>
                社区
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
            <a
              class=""
              href="/sofastack.tech/awesome/">
              <span>
                Awesome SOFA
              </span>
              <svg class="icon" aria-hidden="true"><use xlink:href="#icon-ARROW"></use></svg>
            </a>
					
					
				</nav>
			</div>
		</div>

		<div class="navbar-menu -hidden-mobile">
			<div class="navbar-start">
				
				
					<a class="navbar-item "
						href="/sofastack.tech/projects/">项目</a>
				
					<a class="navbar-item "
						href="/sofastack.tech/guides/">指南</a>
				
					<a class="navbar-item "
						href="/sofastack.tech/blog/">博客</a>
				
					<a class="navbar-item "
						href="/sofastack.tech/activities/">活动</a>
				
					<a class="navbar-item "
						href="/sofastack.tech/community/">社区</a>
				
					<a class="navbar-item "
						href="/sofastack.tech/awesome/">Awesome SOFA</a>
				
			</div>
			<div class="navbar-end">
				<div class="navbar-item">
					<div id="js-menu-search" class="navbar-search">
						<input class="input" placeholder="请输入要搜索的关键词">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-search"></use>
						</svg>
					</div>
				</div>
				<div class="navbar-item">
					
				</div>
			</div>
		</div>
	</nav>
</header>


	

	

	

	

	

	



	

<div class="ss-layout-container">
	<main class="ss-layout-main -card">
		<div class="ss-meta">
	<h1 class="title">
		Tongsuo 支持半同态加密算法 Paillier
	</h1>
	<div class="meta">
		
			2022-11-22 ·
			
				<a href="https://github.com/sofastack"></a> ·
			
			<span class="tags">
				
					<a class="tag" href="/sofastack.tech/tags/sofastack/" rel="tag">#SOFAStack</a>
				
			</span>
		
	</div>
</div>
		<article class="typo">
  <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/817e3578bfba46cf954ab37720dcc85d~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /></p>

<p>文｜王祖熙（花名：金九 )</p>

<p>蚂蚁集团开发工程师</p>

<p><em>负责国产化密码库 Tongsuo 的开发和维护</em></p>

<p><em>专注于密码学、高性能网络、网络安全等领域</em></p>

<p>本文 <strong>4316</strong> 字 阅读<strong>10</strong> 分钟</p>

<h2 id="1-背景">1. 背景</h2>

<p>在<a href="https://mp.weixin.qq.com/s?__biz=MzUzMzU5Mjc1Nw==&amp;mid=2247502645&amp;idx=1&amp;sn=efb490d530f4254a8b12dff89714ace7&amp;chksm=faa324efcdd4adf9119222551a407da68e388fd1b3f652fc034860fee9d687311e2136bbd28c&amp;scene=21&amp;token=127088121&amp;lang=zh_CN#wechat_redirect">《Tongsuo 支持半同态加密算法 EC-ElGamal》</a>中，已经阐述了同态和半同态加密算法的背景和原理，可以移步查阅。总之，同态算法在隐私计算领域有着重要的作用，目前应用比较广泛的是 Paillier 和 EC-ElGamal 半同态加密算法，它们接口类似且只支持加法同态。</p>

<p>但是它们两者的性能和原理有很大的差异：</p>

<p><strong>原理方面</strong>，Paillier 是基于复合剩余类的困难性问题 <em>（大数分解难题）</em> 的公钥加密算法，有点类似 RSA；而 EC-ElGamal 是基于椭圆曲线数学理论的公钥加密算法，其安全性理论上要比 Paillier 要更好。</p>

<p><strong>性能方面</strong>，EC-ElGamal 的加密和密文加法性能要比 Paillier 好；而 Paillier 的解密和密文标量乘法性能要比起 EC-ElGamal 要更好更稳定 <em>（EC-ElGamal 的解密性能与解密的数字大小有关系，数字越大可能需要解密的时间越长，这与 EC-ElGamal 解密用到的解密表有关系，而 Paillier 的解密就没有这个问题。）</em> 。</p>

<p>所以这两个产品各有优劣，大家可以根据自己的业务特点选择使用 Paillier 还是 EC-ElGamal。</p>

<h2 id="2-paillier-原理">2. Paillier 原理</h2>

<h3 id="2-1-密钥生成">2.1 密钥生成</h3>

<p>1.随机选择两个大素数 p、q，满足 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca03dcfeed3345a8af6fa4c043c52067~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，且满足 p 和 q 的长度相等；</p>

<p>2.计算<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/33226221bf4a4c9c9ce6438a25d4f054~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />以及 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c6d2fd8ed93460e942706a6d6224f85~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/959df152d0014fe092e5c3ebca70293a~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />表示最小公倍数；</p>

<p>3.随机选择整数<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20039f7b06684d1a8bb8de394e060653~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，一般 g 的计算公式如下：   </p>

<p>a. 随机选择整数<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ad4416bcde9d4738aa7c43b94dd647e3~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />；   </p>

<p>b. 计算：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fdc727ac97864eb297cd6fbc594a9bca~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，为了简化和提高性能，k 一般选 1，g=1+n；</p>

<p>4.定义 L 函数：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1d54618ec1e94636b30af2839f229331~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，计算：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/07ba2fa3b4bf4b85bd091565f4c14aba~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />；</p>

<p>5.公钥：(n, g)，私钥：(λ, μ)。</p>

<h3 id="2-2-加密">2.2 加密</h3>

<ol>
<li><p>明文 m，满足 −n&lt;m&lt;n；</p></li>

<li><p>选择随机数 r，满足  0≤r&lt;n  且  <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b086a8efc8354d828345db31797c1d1a~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />；</p></li>

<li><p>计算密文：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/237ed8f949d74c17aadcb7f499369dde~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />。</p></li>
</ol>

<p><strong>2.3 解密</strong></p>

<ol>
<li><p>密文 c，满足<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23e71421c97f43058a924c0b70bba649~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />；</p></li>

<li><p>计算明文：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c4feb093ae31457794512eeb8eb0ebc2~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />。</p></li>
</ol>

<p><strong>2.4 密文加法</strong></p>

<ol>
<li>密文：c1 和 c2，<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/089cf63a96594957a25b39f208bb9b05~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，c 就是密文加法的结果。</li>
</ol>

<p><strong>2.5 密文减法</strong></p>

<ol>
<li>密文：c1 和 c2，计算：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5a6c0d317a19468fa153c1886667994a~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，c 就是密文减法的结果。</li>
</ol>

<p><strong>2.6 密文标量乘法</strong></p>

<ol>
<li>密文：c1，明文标量：a，计算：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dc9aabb1bbc045b7aac595eb25f292f5~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，c 就是密文标量乘法的结果。</li>
</ol>

<h2 id="3-正确性">3. 正确性</h2>

<h3 id="3-1-加解密正确性">3.1 加解密正确性</h3>

<p>公式推导需要用到 Carmichael 函数和确定合数剩余的公式，下面简单说明一下：</p>

<p>● Carmichael 函数</p>

<p>a. 设 n=pq，其中：p、q 为大素数；</p>

<p>b. 欧拉函数：ϕ(n) ，Carmichael 函数：λ(n)；</p>

<p>c. 当 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/295f2519ad674cee9f87e0710f971e82~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />和<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de85f55a9d074a8a871287db5a109aa3~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /> 时，</p>

<p>其中：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/988de58622824a4a96cd5aa228c999da~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /> 。</p>

<p>对于任意 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/80065bd570894dd383d701d75900c2a2~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，有如下性质：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/06086c7556254edc8dcec53ddf8fa708~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />。</p>

<p>● 判定合数剩余</p>

<p>a. 判定合数剩余类问题是指 n=pq，其中：p、q 为大素数，任意给定<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f081d977f02d41abb998de45ecdd9669~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，使得<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6ac962b287374a31973bcc21377ffd28~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，则说 z 是模 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eaf0b92eb52d43eeb4a10452d976d512~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /> 的第 n 次剩余；</p>

<p>b. 第 n 项剩余的集合是 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/58eb549438fa4b2e8cdf6c64a9213573~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /> 的一个<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c98a8b7da91b4896a847bc47ce764f27~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /> 阶乘法子集；</p>

<p>c. 每个第 n 项剩余 z 都正好拥有 n 个 n 阶的根，其中只有一个是严格小于 n 的 <em>（即</em> <em><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64c4fe9b60724de08b88d3f87e2a0801~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />）</em> ；d. 第n项剩余都可以写成 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dd33d4d3618c42af8911b045e084bd1e~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />的形式。</p>

<p>● 正确性验证</p>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4e7804e3acc743efa8d83938f78d6a5b~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /></p>

<p>解密：</p>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2a3eea67392c4b5e8abc92a005d5d63e~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /></p>

<h3 id="3-2-密文加法正确性">3.2 密文加法正确性</h3>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/724c291a9a5a49539c96bca3f7476c16~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /></p>

<h3 id="3-3-密文减法正确性">3.3 密文减法正确性</h3>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8fa8b9e30c564f36871b3e93e9d251a2~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /></p>

<h3 id="3-4-密文标量乘法正确性">3.4 密文标量乘法正确性</h3>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/18879070038d471585e90c071e7de2e4~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" /></p>

<h2 id="4-算法实现">4. 算法实现</h2>

<h3 id="4-1-接口定义">4.1 接口定义</h3>

<p>●对象相关接口</p>

<p>○公/私钥对象：<code>PAILLIER_KEY</code> ，该对象用来保存 Paillier 公钥和私钥的基本信息，比如 p、q、n、g、λ、μ 等信息，私钥保存所有字段，公钥只保存 n、g，其他字段为空或者 0。相关接口如下：</p>

<pre><code class="language-python">// 创建 PAILLIER_KEY 对象
\PAILLIER_KEY *PAILLIER_KEY_new(void);

// 释放 PAILLIER_KEY 对象
void PAILLIER_KEY_free(PAILLIER_KEY *key);

// 拷贝 PAILLIER_KEY 对象，将 src 拷贝到 dest 中
PAILLIER_KEY *PAILLIER_KEY_copy(PAILLIER_KEY *dest, PAILLIER_KEY *src);

// 复制 PAILLIER_KEY 对象
PAILLIER_KEY *PAILLIER_KEY_dup(PAILLIER_KEY *key);

// 将 PAILLIER_KEY 对象引用计数加1，释放 PAILLIER_KEY 对象时若引用计数不为0则不能释放其内存
intPAILLIER_KEY_up_ref(PAILLIER_KEY *key);

// 生成 PAILLIER_KEY 对象中的参数，bits 为随机大素数 p、q 的二进制位长度
int PAILLIER_KEY_generate_key(PAILLIER_KEY *key, int bits);

// 获取 key 的类型：公钥 or 私钥
// PAILLIER_KEY_TYPE_PUBLIC 为私钥，PAILLIER_KEY_TYPE_PRIVATE 为私钥
int PAILLIER_KEY_type(PAILLIER_KEY *key);
</code></pre>

<p>○上下文对象：<code>PAILLIER_CTX</code>，该对象用来保存公私钥对象以及一些其他内部用到的信息，是 Paillier 算法其他接口的第一个参数。相关接口如下：</p>

<pre><code class="language-python">// 创建 PAILLIER_CTX 对象，key 为 paillier 公钥或者私钥，threshold 为支持最大的数字阈值，加密场景可设置为 0，解密场景可使用默认值：
PAILLIER_MAX_THRESHOLDPAILLIER_CTX *PAILLIER_CTX_new(PAILLIER_KEY *key, int64_t threshold);

// 释放 PAILLIER_CTX 对象
void PAILLIER_CTX_free(PAILLIER_CTX *ctx);

// 拷贝 PAILLIER_CTX 对象，将 src 拷贝到 dest 中
PAILLIER_CTX *PAILLIER_CTX_copy(PAILLIER_CTX *dest, PAILLIER_CTX *src);

// 复制 PAILLIER_CTX 对象
PAILLIER_CTX *PAILLIER_CTX_dup(PAILLIER_CTX *src);
</code></pre>

<p>○密文对象： <code>PAILLIER_CIPHERTEXT</code> ，该对象是用来保存 Paillier 加密后的结果信息，用到 <code>PAILLIER_CIPHERTEXT</code> 的地方，可调用如下接口：</p>

<pre><code class="language-python">// 创建 PAILLIER_CIPHERTEXT 对象
PAILLIER_CIPHERTEXT *PAILLIER_CIPHERTEXT_new(PAILLIER_CTX *ctx);

// 释放 PAILLIER_CIPHERTEXT 对象
void PAILLIER_CIPHERTEXT_free(PAILLIER_CIPHERTEXT *ciphertext);
</code></pre>

<p>●加密/解密接口</p>

<pre><code class="language-python">// 加密，将明文 m 进行加密，结果保存到 PAILLIER_CIPHERTEXT 对象指针 out 中
int PAILLIER_encrypt(PAILLIER_CTX *ctx, PAILLIER_CIPHERTEXT *out, int32_t m);

// 解密，将密文 c 进行解密，结果保存到 int32_t 指针 out 中
int PAILLIER_decrypt(PAILLIER_CTX *ctx, int32_t *out, PAILLIER_CIPHERTEXT *c);
</code></pre>

<p>●密文加/减/标量乘运算接口</p>

<pre><code class="language-python">// 密文加，r = c1 + c2
int PAILLIER_add(PAILLIER_CTX *ctx, PAILLIER_CIPHERTEXT *r,
PAILLIER_CIPHERTEXT *c1, PAILLIER_CIPHERTEXT *c2);

// 密文标量加，r = c1 * m
int PAILLIER_add_plain(PAILLIER_CTX *ctx, PAILLIER_CIPHERTEXT *r,                       PAILLIER_CIPHERTEXT *c1, int32_t m);

// 密文减，r = c1 - c2
int PAILLIER_sub(PAILLIER_CTX *ctx, PAILLIER_CIPHERTEXT *r,
PAILLIER_CIPHERTEXT *c1, PAILLIER_CIPHERTEXT *c2);

// 密文标量乘，r = c * m
int PAILLIER_mul(PAILLIER_CTX *ctx, PAILLIER_CIPHERTEXT *r,
PAILLIER_CIPHERTEXT *c, int32_t m);
</code></pre>

<p>●编码/解码接口<br />
同态加密涉及到多方参与，可能会需要网络传输，这就需要将密文对象 <code>PAILLIER_CIPHERTEXT</code> 编码后才能传递给对方，对方也需要解码得到 <code>PAILLIER_CIPHERTEXT</code> 对象后才能调用其他接口进行运算。</p>

<p>接口如下：</p>

<pre><code class="language-python">// 编码，将密文 ciphertext 编码后保存到 out 指针中，out 指针的内存需要提前分配好；
// 如果 out 为 NULL，则返回编码所需的内存大小；
// flag：标志位，预留，暂时没有用size_t PAILLIER_CIPHERTEXT_encode(PAILLIER_CTX *ctx, unsigned char *out, 
size_t size,
const PAILLIER_CIPHERTEXT *ciphertext,
int flag);
// 解码，将长度为 size 的内存数据 in 解码后保存到密文对象 r 中
int PAILLIER_CIPHERTEXT_decode(PAILLIER_CTX *ctx, PAILLIER_CIPHERTEXT *r,                               unsigned char *in, size_t size);
</code></pre>

<p>以上所有接口详细说明请参考 Paillier API 文档：<em><a href="https://www.yuque.com/tsdoc/api/slgr6f">https://www.yuque.com/tsdoc/api/slgr6f</a></em></p>

<h3 id="4-2-核心实现">4.2 核心实现</h3>

<p>●Paillier Key</p>

<p>Paillier 不像 EC-ElGamal，EC-ElGamal 在 Tongsuo 里面直接复用 EC_KEY 即可，Paillier Key 在 Tongsuo 里面则需要实现一遍，主要功能有：公/私钥的生成、PEM 格式存储、公/私钥解析和文本展示，详情请查阅代码：</p>

<p>crypto/paillier/paillier_key.c、</p>

<p>crypto/paillier/paillier_asn1.c、</p>

<p>crypto/paillier/paillier_prn.c。</p>

<p>●Paillier 加解密、密文运算</p>

<p>Paillier 的加解密和密文运算算法非常简单，主要是大数的模幂运算，使用 Tongsuo 里面的 BN 相关接口就可以，需要注意的是，负数的加密/解密用到模逆运算，不能直接按公式计算 <em>（<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a26337309d04cf59b0439d062a7aefd~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />）</em> ，这是因为 OpenSSL 的接口 <code>BN_mod_exp</code> 没有关注指数 <em>（上面公式的 m ）</em> 是不是负数，如果是负数的话需要做一次模逆运算：<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d684387acf7446c380ef46b0baa2165b~tplv-k3u1fbpfcp-zoom-1.image" alt="图片" />，这里计算出  之后做一次模逆运算 <em>（ <code>BN_mod_inverse</code> ）</em> 再与相乘；解密的时候，需要确认是否检查了阈值 <em>（</em> <em><code>PAILLIER_MAX_THRESHOLD</code> ）</em> ，超出则说明是负数，需要减去 n 才得到真正的结果。密文减法也需要用到模逆运算，通过密文减法的公式 <em>（）</em> 得知， 需要进行模逆运算 <em>（</em> <em><code>BN_mod_inverse</code> ）</em> 再与 相乘。</p>

<p>详情请查阅代码：</p>

<p>crypto/paillier/paillier_crypt.c</p>

<p>●Paillier 命令行<br />
为了提高 Paillier 的易用性，Tongsuo 实现了如下 Paillier 子命令：</p>

<pre><code class="language-python">
$ /opt/tongsuo-debug/bin/openssl paillier -help
Usage: paillier [action options] [input/output options] [arg1] [arg2]

General options:
-help         Display this summary
Action options:
-keygen       Generate a paillier private key
-pubgen       Generate a paillier public key
-key          Display/Parse a paillier private key
-pub          Display/Parse a paillier public key
-encrypt      Encrypt a number with the paillier public key, usage: -encrypt 99, 99 is an example number
-decrypt      Decrypt a ciphertext using the paillier private key, usage:-decrypt c1, c1 is an example ciphertext
-add          Paillier homomorphic addition: add two ciphertexts, usage: -add c1 c2, c1 and c2 are tow example ciphertexts, result: E(c1) + E(c2)
-add_plain    Paillier homomorphic addition: add a ciphertext to a plaintext, usage: -add_plain c1 99, c1 is an example ciphertext, 99 is an example number, result: E(c1) + 99
-sub          Paillier homomorphic subtraction: sub two ciphertexts, usage: -sub c1 c2, c1 and c2 are tow example ciphertexts, result: E(c1) - E(c2)
-mul          Paillier homomorphic scalar multiplication: multiply a ciphertext by a known plaintext, usage: -mul c1 99, c1 is an example ciphertext, 99 is an example number, result: E(c1) * 99

Input options:
-in val       Input file
-key_in val   Input is a paillier private key used to generate public key

Output options:
-out outfile  Output the paillier key to specified file
-noout        Don't print paillier key out
-text         Print the paillier key in text
-verbose      Verbose output

Parameters:
arg1          Argument for encryption/decryption, or the first argument of a homomorphic operation
arg2          The second argument of a homomorphic operation
</code></pre>

<p>主要命令有：</p>

<p><strong>- keygen：</strong> 生成 Paillier 私钥；</p>

<p><strong>- pubgen：</strong> 用 Paillier 私钥生成公钥；</p>

<p><strong>- key：</strong> 文本显示 Paillier 私钥；</p>

<p><strong>- pub：</strong> 文本显示 Paillier 公钥；</p>

<p><strong>- encrypt：</strong> 对数字进行加密，输出 Paillier 加密的结果，需要通过参数 -key_in 参数指定 Paillier 公钥文件路径，如果加密负数则需要将 <code>-</code> 用 <code>_</code> 代替，因为 <code>-</code> 会被 OpenSSL 解析成预定义参数了 <em>（下同）</em> ；</p>

<p><strong>- decrypt：</strong> 对 Paillier 密文进行解密，输出解密结果，需要通过-key_in参数指定 Paillier 私钥文件路径；</p>

<p><strong>- add：</strong> 对两个 Paillier 密文进行同态加法操作，输出同态加法密文结果，需要通过参数 -key_in 参数指定 Paillier 公钥文件路径；</p>

<p><strong>- add_plain：</strong> 将 Paillier 密文和明文相加，输出同态加法密文结果，需要通过参数 -key_in 参数指定 Paillier 公钥文件路径；</p>

<p><strong>- sub：</strong> 对两个 Paillier 密文进行同态减法操作，输出同态减法密文结果，需要通过参数 -key_in 参数指定 Paillier 公钥文件路径；</p>

<p><strong>- mul：</strong> 将 Paillier 密文和明文相乘，输出同态标量乘法密文结果，需要通过参数 -key_in 参数指定 Paillier 公钥文件路径。</p>

<p>通过以上命令即可在命令行进行 Paillier 算法实验，降低入门门槛，详情请查阅代码：apps/paillier.c。</p>

<p>另外还实现了 Paillier 的 speed 命令，可以进行性能测试，详情请查阅代码：apps/speed.c。</p>

<h2 id="5-用法-例子">5. 用法&amp;例子</h2>

<h3 id="5-1-demo-程序">5.1 demo 程序</h3>

<pre><code class="language-python">#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include &lt;openssl/paillier.h&gt;
#include &lt;openssl/pem.h&gt;

#define CLOCKS_PER_MSEC (CLOCKS_PER_SEC/1000)

int main(int argc, char *argv[])
{
int ret = -1;
int32_t r; 
clock_t begin, end;
PAILLIER_KEY *pail_key = NULL, *pail_pub = NULL;
PAILLIER_CTX *ctx1 = NULL, *ctx2 = NULL;
PAILLIER_CIPHERTEXT *c1 = NULL, *c2 = NULL, *c3 = NULL;
FILE *pk_file = fopen(&quot;pail-pub.pem&quot;, &quot;rb&quot;);
FILE *sk_file = fopen(&quot;pail-key.pem&quot;, &quot;rb&quot;);
    if ((pail_pub = PEM_read_PAILLIER_PublicKey(pk_file, NULL, NULL, NULL)) == NULL)    
    goto err;
    if ((pail_key = PEM_read_PAILLIER_PrivateKey(sk_file, NULL, NULL, NULL)) == NULL)      
    goto err;
    
    if ((ctx1 = PAILLIER_CTX_new(pail_pub, PAILLIER_MAX_THRESHOLD)) == NULL) 
    goto err;    
    if ((ctx2 = PAILLIER_CTX_new(pail_key, PAILLIER_MAX_THRESHOLD)) == NULL)   
    goto err;
    
    if ((c1 = PAILLIER_CIPHERTEXT_new(ctx1)) == NULL)
    goto err;
    if ((c2 = PAILLIER_CIPHERTEXT_new(ctx1)) == NULL)
    goto err;
    
    begin = clock();
    if (!PAILLIER_encrypt(ctx1, c1, 20000021))
    goto err;
    end = clock(); 
    printf(&quot;PAILLIER_encrypt(20000021) cost: %lfms\n&quot;, (double)(end - begin)/CLOCKS_PER_MSEC);
    
    begin = clock();
    if (!PAILLIER_encrypt(ctx1, c2, 500)) 
    goto err;    end = clock();
    printf(&quot;PAILLIER_encrypt(500) cost: %lfms\n&quot;, (double)(end - begin)/CLOCKS_PER_MSEC);
    
    if ((c3 = PAILLIER_CIPHERTEXT_new(ctx1)) == NULL) 
    goto err;
    begin = clock();
    if (!PAILLIER_add(ctx1, c3, c1, c2))
    goto err;    end = clock(); 
    printf(&quot;PAILLIER_add(C2000021,C500) cost: %lfms\n&quot;, (double)(end - begin)/CLOCKS_PER_MSEC);
    
    begin = clock();
    if (!(PAILLIER_decrypt(ctx2, &amp;r, c3)))
    goto err;    end = clock();
    printf(&quot;PAILLIER_decrypt(C20000021,C500) result: %d, cost: %lfms\n&quot;, r, (double)(end - begin)/CLOCKS_PER_MSEC);
    
    begin = clock();
    if (!PAILLIER_mul(ctx1, c3, c2, 800))
    goto err; 
    end = clock();
    printf(&quot;PAILLIER_mul(C500,800) cost: %lfms\n&quot;, (double)(end - begin)/CLOCKS_PER_MSEC);
    
    begin = clock(); 
    if (!(PAILLIER_decrypt(ctx2, &amp;r, c3)))
    goto err;    end = clock();
    printf(&quot;PAILLIER_decrypt(C500,800) result: %d, cost: %lfms\n&quot;, r, (double)(end - begin)/CLOCKS_PER_MSEC);

    printf(&quot;PAILLIER_CIPHERTEXT_encode size: %zu\n&quot;, PAILLIER_CIPHERTEXT_encode(ctx2, NULL, 0, NULL, 1)); 
    ret = 0;
    err:    PAILLIER_KEY_free(pail_key);
    PAILLIER_KEY_free(pail_pub);
    PAILLIER_CIPHERTEXT_free(c1);
    PAILLIER_CIPHERTEXT_free(c2);
    PAILLIER_CIPHERTEXT_free(c3);
    PAILLIER_CTX_free(ctx1);
    PAILLIER_CTX_free(ctx2);
    fclose(sk_file);
    fclose(pk_file);
    return ret;
}
</code></pre>

<h3 id="5-2-编译和运行">5.2 编译和运行</h3>

<p>先确保 Tongsuo 开启 Paillier，如果是手工编译 Tongsuo，可参考如下编译步骤：</p>

<pre><code class="language-python"># 下载代码
git clone git@github.com:Tongsuo-Project/Tongsuo.git

# 编译参数需要加上：enable-paillier
./config  --debug no-shared no-threads enable-paillier --strict-warnings -fPIC --prefix=/opt/tongsuo

# 编译
make -j

# 安装到目录
/opt/tongsuo sudo make install
</code></pre>

<h3 id="5-3-编译-demo-程序">5.3 编译 demo 程序</h3>

<pre><code class="language-python">gcc -Wall -g -o paillier_test ./paillier_test.c -I/opt/tongsuo/include -L/opt/tongsuo/lib -lssl -lcrypto
</code></pre>

<h3 id="5-4-生成-paillier-公私钥">5.4 生成 Paillier 公私钥</h3>

<pre><code class="language-python"># 先生成私钥
/opt/tongsuo/bin/openssl paillier -keygen -out pail-key.pem# 
用私钥生成公钥
/opt/tongsuo/bin/openssl paillier -pubgen -key_in ./pail-key.pem -out pail-pub.pem
</code></pre>

<h3 id="5-5-运行结果">5.5 运行结果</h3>

<pre><code class="language-python">$ ./paillier_test
PAILLIER_encrypt(20000021) cost: 3.202000ms
PAILLIER_encrypt(500) cost: 0.442000ms
PAILLIER_add(C2000021,C500) cost: 0.047000ms
PAILLIER_decrypt(C20000021,C500) result: 20000521, cost: 0.471000ms
PAILLIER_mul(C500,800) cost: 0.056000ms
PAILLIER_decrypt(C500,800) result: 400000, cost: 0.464000ms
PAILLIER_CIPHERTEXT_encode size: 0
</code></pre>

<p><strong>本周推荐阅读</strong></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MzUzMzU5Mjc1Nw==&amp;mid=2247513818&amp;idx=1&amp;sn=e0884180a5401d4972bd9a8d3ed150be&amp;chksm=faa35900cdd4d01669f732eb662e7c644caa663f6ae41dd3e3f8b28e77d72763e34c1935fe0d&amp;scene=21">你好，我的新名字叫“铜锁/Tongsuo”</a></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MzUzMzU5Mjc1Nw==&amp;mid=2247502645&amp;idx=1&amp;sn=efb490d530f4254a8b12dff89714ace7&amp;chksm=faa324efcdd4adf9119222551a407da68e388fd1b3f652fc034860fee9d687311e2136bbd28c&amp;scene=21">BabaSSL：支持半同态加密算法 EC-ElGamal</a></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MzUzMzU5Mjc1Nw==&amp;mid=2247502271&amp;idx=1&amp;sn=861bcea32cc766721bb6fd95361ef6eb&amp;chksm=faa32665cdd4af73dcc42c51f79e6c61035cddf95ecad822ea6e85cb188c60cb85c9b8027484&amp;scene=21">BabaSSL 发布 8.3.0｜实现相应隐私计算的需求</a></p>

<p><a href="http://mp.weixin.qq.com/s?__biz=MzUzMzU5Mjc1Nw==&amp;mid=2247516387&amp;idx=1&amp;sn=c2531d25caf6e9fe0eb560180a048320&amp;chksm=faa36f39cdd4e62f3a9611a02e9a276d7c7e1530d7b9c06ff3eef5a4e7d0950655d9a2c8f67b&amp;scene=21">开源项目文档社区化！Tongsuo/铜锁实践</a></p>

</article>

<script>
  const article = document.querySelector('article.typo')
  
  const imgElements = article.querySelectorAll('img');
  
  imgElements.forEach(img => {
    const src = img.getAttribute('src');
    
    
      
    
    img.setAttribute('referrerpolicy', 'no-referrer');
  });
</script>


		<div class="-show-mobile">
			

<nav class="ss-pagination-next">
	<a class="link-prev" href="https://sofastack.github.io/sofastack.tech/blog/sofa-weekly-20221122/">
		<span class="text">上一篇: </span>
		<span class="text">SOFA Weekly | 开源人、本周 Contributor &amp; QA</span>
	</a>
	<a class="link-next" href="https://sofastack.github.io/sofastack.tech/blog/is-sidecarless-the-next-stop-for-servicemesh/">
		<span class="text">下一篇: </span>
		<span class="text">Service Mesh 的下一站是 Sidecarless 吗？</span>
	</a>
</nav>

		</div>
	</main>

	<aside class="ss-layout-aside">
		
		


<div class="ss-card">
	<h2 class="card-title">
		相关推荐
	</h2>
	
	<ul class="ss-aside-related">
		
			<li><a href="/sofastack.tech/blog/p2p-transfer-protocol-optimization-in-dragonfly/">Dragonfly 中 P2P 传输协议优化</a></li>
		
			<li><a href="/sofastack.tech/blog/container-image-basics/">Nydus | 容器镜像基础</a></li>
		
			<li><a href="/sofastack.tech/blog/c-go-mechanism-calling-go-from-c/20221008/">cgo 机制 - 从 c 调用 go</a></li>
		
			<li><a href="/sofastack.tech/blog/20220929/">开源项目文档社区化！Tongsuo/铜锁实践</a></li>
		
			<li><a href="/sofastack.tech/blog/sofastack20220927/">从规模化平台工程实践，我们学到了什么？</a></li>
		
	</ul>
	
</div>

		<div class="ss-aside-tags ss-card">
	<h2 class="card-title">
		标签
		<span class="card-extra"></span>
	</h2>
	<ul class="tag-list">
		
			<li class="tag"><a href="/sofastack.tech/tags/1024/">1024</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/api-gateway/">API Gateway </a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/cafedeployment/">CafeDeployment</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/cloud-native/">Cloud Native</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/cncf/">CNCF</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/db-mesh/">DB Mesh</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/dragonfly/">Dragonfly</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/elasticdl/">ElasticDL</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/http/3/">HTTP/3</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/http/quic/">HTTP/QUIC</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/kata-container/">Kata Container</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/kata-containers/">Kata Containers</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/knative/">Knative</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/kubecon/">KubeCon</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/kubernetes/">Kubernetes</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/meetup/">Meetup</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/mosn/">MOSN</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/nydus/">Nydus</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/occlum/">Occlum</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/rpc-%E6%A1%86%E6%9E%B6%E8%AE%BE%E8%AE%A1%E7%9A%84%E8%80%83%E5%92%8C%E9%87%8F/">RPC 框架设计的考和量</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/seata/">seata</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/serverless/">Serverless</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/serverlesstask/">ServerlessTask</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/service-mesh/">Service mesh</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/service-mesh-meetup/">Service Mesh Meetup</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/service-mesh-virtual-meetup/">Service Mesh Virtual Meetup</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/service-mesh-webinar/">Service Mesh Webinar</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/service-mesh-%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5/">Service Mesh 落地实践</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sidecar-%E5%AE%B9%E5%99%A8/">Sidecar 容器</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofa/">SOFA</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofa-weekly/">SOFA Weekly</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofaacts/">SOFAActs</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofaark/">SOFAArk</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofaarklab/">SOFAArkLab</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofabolt/">SOFABolt</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofaboot/">SOFABoot</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofachannel/">SOFAChannel</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofadashboard/">SOFADashboard</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofaenclave/">SOFAEnclave</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofajraft/">SOFAJRaft</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofajraft-%E7%89%B9%E6%80%A7%E8%A7%A3%E6%9E%90/">SOFAJRaft 特性解析</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofalab/">SOFALab</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofalookout/">SOFALookout</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofameetup/">SOFAMeetup</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofamesh/">SOFAMesh</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofaregistry/">SOFARegistry</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofarpc/">SOFARPC</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofastack/">SOFAStack</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofastack-%E5%BC%80%E6%BA%90%E4%B9%8B%E5%A4%8F/">SOFAStack 开源之夏</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofastak/">SOFAStak</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofatalk/">SOFATalk</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sofatracer/">SOFATracer</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/springboot/">SpringBoot</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/sqlflow/">SQLFlow</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/summer-2021/">Summer 2021</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/workshop/">Workshop</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/zsearch/">ZSearch</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6/">任务调度</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E4%BD%A0%E7%9A%84%E5%BC%80%E6%BA%90%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/">你的开源入门指南</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">分布式</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/">分布式事务</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E6%9E%B6%E6%9E%84/">分布式架构</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%89%96%E6%9E%90-sofaark-%E6%BA%90%E7%A0%81/">剖析 | SOFAArk 源码 </a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%89%96%E6%9E%90-sofabolt-%E6%A1%86%E6%9E%B6/">剖析 | SOFABolt 框架</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%89%96%E6%9E%90-sofaboot-%E6%A1%86%E6%9E%B6/">剖析 | SOFABoot 框架</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%89%96%E6%9E%90-sofajraft-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/">剖析 | SOFAJRaft 实现原理</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%89%96%E6%9E%90-sofaregistry-%E6%A1%86%E6%9E%B6/">剖析 | SOFARegistry 框架</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%89%96%E6%9E%90-sofarpc-%E6%A1%86%E6%9E%B6/">剖析 | SOFARPC 框架</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%89%96%E6%9E%90-sofatracer-%E6%A1%86%E6%9E%B6/">剖析 | SOFATracer 框架</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%AE%9E%E8%B7%B5/">实践</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%BC%80%E6%BA%90/">开源</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%BC%80%E6%BA%90%E4%B9%8B%E5%A4%8F/">开源之夏</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%BC%80%E6%BA%90%E4%BA%94%E5%91%A8%E5%B9%B4/">开源五周年</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%BC%80%E6%BA%90%E5%85%AD%E5%91%A8%E5%B9%B4/">开源六周年</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%BC%80%E6%BA%90%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%BC%94%E8%BF%9B%E4%B8%8E%E6%9C%AA%E6%9D%A5/">开源容器镜像加速服务的演进与未来</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%BC%B9%E6%80%A7%E4%BC%B8%E7%BC%A9/">弹性伸缩</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/">微服务</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E6%96%87%E4%BB%B6%E5%92%8C%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E7%B3%BB%E7%BB%9F/">文件和镜像加速系统</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E6%99%BA%E8%83%BD%E7%9B%91%E6%8E%A7/">智能监控</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E6%99%BA%E8%83%BD%E8%BF%90%E7%BB%B4/">智能运维</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E6%BA%90%E5%88%9B%E4%BC%9A/">源创会</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/">“源码解析”</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E7%B1%BB%E9%9A%94%E7%A6%BB%E6%A1%86%E6%9E%B6/">类隔离框架</a></li>
		
			<li class="tag"><a href="/sofastack.tech/tags/%E9%95%9C%E5%83%8F/">镜像</a></li>
		
	</ul>
</div>
	</aside>
</div>



	


<footer class="ss-footer">
	<div class="container">
		<div class="links">
			
				<div class="cate">
					<h2 class="cate-title">资源</h2>
					
						<a class="link" href="https://github.com/sofastack">Github</a>
					
						<a class="link" href="https://gitee.com/sofastack/">Gitee</a>
					
						<a class="link" href="https://github.com/sofastack-guides">示例</a>
					
				</div>
			
				<div class="cate">
					<h2 class="cate-title">社交媒体</h2>
					
						<a class="link" href="https://zhuanlan.zhihu.com/sofastack">知乎专栏</a>
					
						<a class="link" href="https://weibo.com/sofastack">新浪微博</a>
					
						<a class="link" href="https://twitter.com/sofastack_io">Twitter</a>
					
				</div>
			
				<div class="cate">
					<h2 class="cate-title">参与进来</h2>
					
						<a class="link" href="https://github.com/sofastack/sofastack.tech/issues/new">反馈</a>
					
						<a class="link" href="https://github.com/sofastack/community">社区</a>
					
						<a class="link" href="https://github.com/sofastack/sofastack.tech/wiki">Wiki</a>
					
						<a class="link" href="mailto:sofa@alipay.cloud.com">Email</a>
					
						<a class="link" href="/hr/">加入我们</a>
					
				</div>
			
				<div class="cate">
					<h2 class="cate-title">蚂蚁集团开源项目</h2>
					
						<a class="link" href="https://ant.design/">Ant Design</a>
					
						<a class="link" href="https://eggjs.org/">Egg </a>
					
						<a class="link" href="https://sqlflow.org">SQLFlow</a>
					
						<a class="link" href="https://tech.antfin.com/open-source">更多</a>
					
				</div>
			
		</div>
		<div class="qrcode">
			
				<div>
					<img class="qrcode-img" src="/sofastack.tech/img/qrcode/qrcode_video_2024.jpg" />
					<p class="qrcode-desc">微信视频号</p>
				</div>
			
				<div>
					<img class="qrcode-img" src="/sofastack.tech/img/qrcode/qrcode_1_2024.jpg" />
					<p class="qrcode-desc">微信公众号</p>
				</div>
			
				<div>
					<img class="qrcode-img" src="/sofastack.tech/img/qrcode/dingtalk_qrcode_20241118.png" />
					<p class="qrcode-desc">钉钉群</p>
				</div>
			
		</div>
	</div>
	<div class="copyright">
		<p>
			© 2018 - 2022  The SOFAStack Authors
			<a href="http://beian.miit.gov.cn/">浙 ICP 备 16045294 号-3</a>
		</p>
	</div>
</footer>

</body>

</html>